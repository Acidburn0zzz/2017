<doctype html>
<html lang='en'>
<head>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width,initial-scale=1' />
	<title>Ind.ie Labs - Blog - Handle</title>
	<!--[if lte IE 8]>
    <script src='https://ind.ie/assets/js/html5shiv.js'></script>
  <![endif]-->
  <link rel='shortcut icon' href='/favicon.ico'>
  <link rel='apple-touch-icon' href='https://ind.ie/assets/images/ios-180.png'>
  <link rel='apple-touch-icon' sizes='76x76' href='https://ind.ie/assets/images/ios-76.png'>
  <link rel='apple-touch-icon' sizes='120x120' href='https://ind.ie/assets/images/ios-120.png'>
  <link rel='apple-touch-icon' sizes='152x152' href='https://ind.ie/assets/images/ios-152.png'>
  <link rel='apple-touch-icon' sizes='152x152' href='https://ind.ie/assets/images/ios-180.png'>
	<link rel='alternate' type='application/rss+xml' title='Ind.ie Labs Blog' href='https://ind.ie/labs/blog/rss/index.xml' />
	<link rel='stylesheet' href='https://ind.ie/assets/css/lab-styles.css'/>
	<link rel="stylesheet" href="../css/highlight/kimbie.dark.css">
	<link rel='stylesheet' href='../css/styles.css'/>
	<script src="../js/highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
</head>
<body class='labs labs-blog'>
	<!-- @import '../../../../assets/includes/_nav.kit' -->
	<div class='main h-entry'>
        <!-- @import '../../../../includes/_archive-notice.kit' -->
		<h1 class='p-name long-title'>Handle</h1>
		<p class='post-date dt-published' datetime='2015-04-20 17:00:00'>20th April, 2015 — <span class='p-author'>Aral Balkan</span></p>
		<div class='e-content'>

		<figure>
			<img src='images/ring-bell-for-service-by-martha-t.jpg' style='width:100%;' alt='Ring bell for service'/>
			<figcaption>Handle is an easy and expressive means to handle notifications using blocks.<br><small>Photo courtesy <a href='https://www.flickr.com/photos/roswellsgirl/8254858613/in/photolist-dzsiSv-ok2LVc-ddJuv3-o1MfbD-eenv9y-pxg6nb-o1Me7e-oi5JEC-8qPt6t-8qPsug-8qSxby-8qSvsG-KMp6-o1M5LY-5we9Q-8qSw4o-8qPrFZ-edLmd-7nfUY9-79ZHaW-E65tz-4T4rWU-7nfQA5-7nfSbs-7nbY6P-7nfRdG-7nbZjT-7nbZCt-7nbTpD-7nfNHA-aUnbua-fRSwpX-7nbX9c-7nbUFz-7nbTJM-7nbVXg-aACkr3-efhdMW-7nfWWN-7nc3MR-7nbXtB-7nfMxC-7nfWD7-5MeWDT-7nfVjY-gfP63-8u7oRk-7nfUmq-7nfSLs-dLGHTd'>Martha T.</a></figcaption>
		</figure>

		<h2>Notifications made easy</h2>

		<p>Handling notifications is something you do day in and day out in Cocoa. Handle is a Swift micro-library that gives you an easy and expressive means to handle notifications using blocks.</p>

		<h2>Code</h2>

		<p>Grab the code from our Git repository: <a href='https://source.ind.ie/project/handle/tree/master'>source.ind.ie/project/handle</a></p>

		<h2>Usage</h2>

		<h3>Safety first: notification enums</h3>

		<p>To provide compile-time safety and literate code, we use a notification enum idiom to define our notification names:</p>

		<pre>Swift: <code>// MARK: MyNotification
public enum MyNotification:String
{
  // MARK: .awesomeNotification
  case awesomeNotification = "AwesomeNotification"
    
  public static func named(notification: MyNotification) -> String
  {
    return notification.rawValue
  }
}</code></pre>

		<p>This allows us to refer to notifications using the following literate syntax:</p>

		<pre>Swift: <code>MyNotification.named(.awesomeNotification)</code></pre>

		<p>(So much more readable than <code>MyNotification.awesomeNotification.rawValue</code>)</p>

		<h3>Posting notifications</h3>

		<p>Posting a notification couldn’t be easier:</p>

		<pre>Swift: <code>post(MyNotification.named(.awesomeNotification), from: self)</code></pre>

		<p>You can, of course, also pass a <code>userInfo</code> dictionary:</p>

		<pre>Swift: <code>post(MyNotification.named(.awesomeNotification), from: self, with:["someGnarly":"information"])</code></pre>

		<p>(For notification handling I’m using my own <a href='../handle'>Handle library</a>).</p>

		<h3>Handling notifications</h3>

		<p>The preferred method is to create a notification handler block:</p>

		<pre>Swift: <code>var notificationHandler:NotificationHandler?

// …

func createNotificationHandlers()
{
  notificationHandler?.remove()
  notificationHandler = handle(MyNotification.named(.awesomeNotification))
  {
    /* as */ notification in  
  
    // Do something awesome.
  }
}

func removeNotificationHandlers()
{
  notificationHandler?.remove()
}
</code></pre>

		<p>For ViewControllers, the idiom is to call <code>createNotificationHandlers()</code> on <code>viewWillAppear()</code> and <code>removeNotificationHandlers()</code> on <code>viewWillDisappear()</code>. However, since the methods can also be called at other times, we choose to code safety and call <code>remove()</code> on the optional <code>notificationHandler</code> property before actually defining it so as to guarantee that we won’t set up duplicate handlers.</p>

		<h3>Other forms</h3>

		<p>The Handle micro-library also includes <code>NSNotificationCenter</code> extensions as well as a selector-based API instead of the block-based one shown here.</p>

		<p>For more information on the other APIs, please <a href='https://source.ind.ie/project/handle/blob/master/Handle/Handle.swift'>see the source code</a>.</p>

		</div>
		<div id="discourse-comments"></div>

<footer class="site-footer">
                <h2 class="site-name"><a href="https://ind.ie">ind.ie</a></h2>
                <small class="copyright"><abbr title="Copyright">©</abbr> <a href="/about/#trademarks">Article 12</a>. All content is <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International</a>, unless otherwise stated.</small>
                <div class="view-source-wrap">
                    <a class="view-source" href="https://source.ind.ie/project/ind-ie-site/tree/master">View source</a>
                </div>
            </footer>
	</div>
    <script type='text/javascript'>
      var discourseUrl = 'https://forum.ind.ie/',
          discourseEmbedUrl = 'https://ind.ie/labs/blog/handle/';

      (function() {
        var d = document.createElement('script'); d.type = 'text/javascript'; d.async = true;
          d.src = discourseUrl + 'javascripts/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
            })();
    </script>
</body>
</html>